## ü§ñ –ú—É–ª—å—Ç–∏–º–æ–¥–∞–ª—å–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞ RAG: ColPali + Vikhr-2-VL

![image](https://github.com/user-attachments/assets/89cf16d4-f46e-43e5-9132-6d6a124ac9e7)

–†–µ—à–µ–Ω–∏–µ –∫–æ–º–∞–Ω–¥–Ω–æ–≥–æ –∑–∞–¥–∞–Ω–∏—è –≤ —Ä–∞–º–∫–∞—Ö —Å–æ—Ä–µ–≤–Ω–æ–≤–∞–Ω–∏—è –ù–æ—Ä–Ω–∏–∫–µ–ª—è. –ò–º–µ–µ—Ç—Å—è –±–∞–∑–æ–≤–∞—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è —Ä–µ—à–µ–Ω–∏—è –Ω–∞ Streamlit.

–≠—Ç–æ—Ç —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π —Å–æ–¥–µ—Ä–∂–∏—Ç –Ω–µ—Å–∫–æ–ª—å–∫–æ –Ω–æ—É—Ç–±—É–∫–æ–≤, —Ä–µ–∞–ª–∏–∑—É—é—â–∏—Ö –º—É–ª—å—Ç–∏–º–æ–¥–∞–ª—å–Ω—É—é —Å–∏—Å—Ç–µ–º—É –Ω–∞ –±–∞–∑–µ **Retrieval-Augmented Generation (RAG)**. –°–∏—Å—Ç–µ–º–∞ —Ä–∞–±–æ—Ç–∞–µ—Ç —Å –≤–µ–∫—Ç–æ—Ä–Ω—ã–º–∏ –±–∞–∑–∞–º–∏ –¥–∞–Ω–Ω—ã—Ö –∏ –∏–Ω—Ç–µ–≥—Ä–∏—Ä—É–µ—Ç —Ç–µ–∫—Å—Ç –∏ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è –¥–ª—è –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ –æ—Ç–≤–µ—Ç–æ–≤. –í —á–∞—Å—Ç–Ω–æ—Å—Ç–∏, –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è —Ñ—Ä–µ–π–º–≤–æ—Ä–∫ [**byaldi**](https://github.com/AnswerDotAI/byaldi), –∞ –º–æ–¥–µ–ª—å ü§ó [colpali-v1.2](https://huggingface.co/vidore/colpali-v1.2) –ø—Ä–µ–¥–Ω–∞–∑–Ω–∞—á–µ–Ω–∞ –¥–ª—è –æ–±—Ä–∞–±–æ—Ç–∫–∏ –º—É–ª—å—Ç–∏–º–æ–¥–∞–ª—å–Ω—ã—Ö –∑–∞–ø—Ä–æ—Å–æ–≤ (—Ç–µ–∫—Å—Ç –∏ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è). –î–ª—è –æ–±—Ä–∞–±–æ—Ç–∫–∏ —Ç–µ–∫—Å—Ç–æ–≤–æ–≥–æ –∑–∞–ø—Ä–æ—Å–∞ —Å –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è–º–∏ –¥–ª—è –∏–Ω—Ñ–µ—Ä–µ–Ω—Å–∞ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –º–æ–¥–µ–ª—å ü§ó [Vikhr-2-VL-2b-Instruct-experimental](https://huggingface.co/Vikhrmodels/Vikhr-2-VL-2b-Instruct-experimental).

–î–ª—è —É—Å–ø–µ—à–Ω–æ–π —Ä–∞–±–æ—Ç—ã –æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ –ø–æ—Ç—Ä–µ–±—É—é—Ç—Å—è –¥–∞–Ω–Ω—ã–µ —Ö–∞–∫–∞—Ç–æ–Ω–∞, —Å–∫–∞—á–∞—Ç—å –º–æ–∂–Ω–æ [–∑–¥–µ—Å—å](https://drive.google.com/file/d/1bHGJGOnVtRYCl7LJ8eR7VGwKd6C7eMK6/view?usp=drive_link).

–ü—Ä–µ–∑–µ–Ω—Ç–∞—Ü–∏—è –ø—Ä–æ–µ–∫—Ç–∞: [—Å—Å—ã–ª–∫–∞](https://drive.google.com/file/d/1zIQuq2tAB_irfEUKqE9o7y3hMjgsTv-R/view)

## üë• –ù–∞—à–∞ –∫–æ–º–∞–Ω–¥–∞:

3 ML-—Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–∞ –∏ 1 –∞–Ω–∞–ª–∏—Ç–∏–∫ ü§ùüî•.

## üõ†Ô∏è –¢–µ—Ö–Ω–æ–ª–æ–≥–∏–∏
<p align="center">
  <a href="https://go-skill-icons.vercel.app/">
    <img src="https://go-skill-icons.vercel.app/api/icons?i=python,pytorch,huggingface,docker,streamlit&theme=dark"/>
  </a>
</p>

* PyTorch
* Hugging Face (colpali-v1.2, Vikhr-2-VL-2b)
* byaldi
* Streamlit
* Docker

## üìö –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –Ω–æ—É—Ç–±—É–∫–∞—Ö

–°—É—â–µ—Å—Ç–≤—É–µ—Ç –Ω–µ—Å–∫–æ–ª—å–∫–æ –≤–µ—Ä—Å–∏–π —Ä–µ—à–µ–Ω–∏—è: 
- [–ø–æ–ª–Ω–∞—è –≤–µ—Ä—Å–∏—è –≤ –æ–¥–Ω–æ–º –Ω–æ—É—Ç–±—É–∫–µ](https://github.com/metanovus/nornikel-rag-2024/tree/main/notebooks/for_demontration) (–≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ –∏–Ω–¥–µ–∫—Å–∞—Ü–∏–∏ –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤ —á–µ—Ä–µ–∑ ColPali + –≥–µ–Ω–µ—Ä–∞—Ü–∏—è –æ—Ç–≤–µ—Ç–æ–≤ —á–µ—Ä–µ–∑ Vikhr-2-VL).
- [–¥–≤–µ —á–∞—Å—Ç–∏ –ø–æ–ª–Ω–æ–π –≤–µ—Ä—Å–∏–∏](https://github.com/metanovus/nornikel-rag-2024/tree/main/notebooks/for_testing) (–ß–∞—Å—Ç—å 1 - –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è –≤–µ–∫—Ç–æ—Ä–Ω–æ–π –ë–î, —á–∞—Å—Ç—å 2 - –¥–ª—è –∏–Ω—Ñ–µ—Ä–µ–Ω—Å–æ–≤).
- [—Ä–∞–∑–≤—ë—Ä–Ω—É—Ç–∞—è –≤–µ—Ä—Å–∏—è](https://drive.google.com/file/d/1pmcPFWP-CDFQu9f-qhEW9D9iTys4zNb2/view?usp=drive_link) (–ø—Ä–µ–¥–Ω–∞–∑–Ω–∞—á–µ–Ω–Ω–∞—è –¥–ª—è —É–≥–ª—É–±–ª–µ–Ω–Ω–æ–≥–æ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è —Å –≥–æ—Ç–æ–≤–æ–π –±–∞–∑–æ–π –∏ –¥–∞–Ω–Ω—ã–º–∏ - –∞—Ä—Ö–∏–≤ –≤–µ—Å–æ–º –æ–∫–æ–ª–æ 888 –ú–ë).

## ‚öôÔ∏è –£—Å—Ç–∞–Ω–æ–≤–∫–∞

1. –ö–ª–æ–Ω–∏—Ä—É–π—Ç–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π:
   ```bash
   git clone https://github.com/metanovus/nornikel-rag-2024.git
   cd nornikel-rag-2024
   ```

2. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏:
   ```bash
   pip install -r requirements.txt
   ```
   
## üöÄ –ö–∞–∫ –∑–∞–ø—É—Å—Ç–∏—Ç—å –ª–æ–∫–∞–ª—å–Ω–æ Streamlit
–ù–µ–æ–±—Ö–æ–¥–∏–º–æ –≤—ã–ø–æ–ª–Ω–∏—Ç—å —Å–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏:

1. –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ —É –≤–∞—Å —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω **Docker** –∏ **Docker Compose**.
2. –ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—é —Å —Ñ–∞–π–ª–æ–º `docker-compose.yml`.
3. –í—ã–ø–æ–ª–Ω–∏—Ç–µ –∫–æ–º–∞–Ω–¥—É –¥–ª—è —Å–±–æ—Ä–∫–∏ –∏ –∑–∞–ø—É—Å–∫–∞ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞:
   ```bash
   docker-compose up --build
   ```
4. –û—Ç–∫—Ä–æ–π—Ç–µ **Streamlit** –≤ –±—Ä–∞—É–∑–µ—Ä–µ –ø–æ –∞–¥—Ä–µ—Å—É: `http://localhost:8000`.

–ö–æ–Ω—Ç–µ–π–Ω–µ—Ä –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∑–∞–ø—É—Å—Ç–∏—Ç Streamlit –Ω–∞ –ø–æ—Ä—Ç—É 8000, –∫–∞–∫ —É–∫–∞–∑–∞–Ω–æ –≤ —Ñ–∞–π–ª–µ `docker-compose.yml`.
